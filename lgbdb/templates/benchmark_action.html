{% extends 'base.html' %}
{% load bootstrap3 %}



{% if action != "add" %}
    <!--
    load the javascript needed for gchart
    -->
    {% block morehead %}
        {% load static %}
        <script type="text/javascript" src="{% get_static_prefix %}js/flot/jquery.js"></script>
        <script src="{% get_static_prefix %}js/flot/jquery.flot.js" type="text/javascript"></script>
        <script src="{% get_static_prefix %}js/flot/jquery.flot.categories.js" type="text/javascript"></script>
    
    {% endblock %}
{% endif %}




{% block content %}

{% if action == "add" %}
    <h2>{{ action | title}} benchmark</h2>
{% else %}    
    <h2>{{ action | title}} benchmark: {{object}} </h2>
{% endif %}
<br>

{% if action != "add" %}
    <div class="row">
        {{ fpschart.as_html }}
    </div>
    <br>
{% endif %}


{% if action == "edit" or action == "add" %}
    
    <form enctype="multipart/form-data" method="POST" action="" >
        {% csrf_token %}
        
        {% for field in form %}
        <tr>
            <td>{% bootstrap_field field  show_help=True layout="horizontal" %}</td>
            <td>&nbsp;</td>
        </tr>
        {% endfor %}
        
        <input type="submit" value="Save" class="btn btn-primary"/>
        
    </form>
    
{% elif action == "detail" or action == "delete" %}

    {% if action == "delete" %}

        <p>Are you sure you want to delete this benchmark?</p>
        <table>
            <tr>
                <td>
                    <form action="{% url "benchmark-delete" pk=object.id %}" method="POST">
                    {% csrf_token %}
                
                        <input type="submit" value="Yes, delete." class="btn btn-danger" />
                    
                    </form>
                
                </td>
                
                <td>&nbsp;<td>
                
                <td>
                    <form action="{% url "user-profile" pk=user.pk %}">
                        <input type="submit" value="No, cancel" class="btn btn-info">
                    </form>
                </td>
            </tr>
        </table>
        
        <br>
    
    {% endif %}

    <table class="table table-striped">
        <tbody>
            {% for field in form %}
                <tr>
                    <td>{% bootstrap_field field set_disabled=True  show_help=True layout="horizontal" %}</td>
                    <td>&nbsp;</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    
{% endif %}
        
                
{% endblock %}

